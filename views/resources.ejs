<%- include("layouts/header") %>

<div class="container mx-auto mt-10 p-5">
    <h2 class="text-2xl font-bold mb-5">Shared Resources</h2>

    <% if (user.role === "mentor") { %>
        <!-- Upload Form for Mentors -->
        <form action="/resources/upload" method="POST" enctype="multipart/form-data" class="mb-5 p-4 bg-gray-300 rounded">
            <input type="text" name="title" placeholder="Resource Title" required class="p-2 border rounded w-full">
            <input type="file" name="file" class="p-2 border rounded w-full mt-2">
            <input type="text" name="link" placeholder="Or paste a link" class="p-2 border rounded w-full mt-2">
            <button type="submit" class="mt-3 bg-blue-500 text-white px-4 py-2 rounded">Upload</button>
        </form>
    <% } %>

    <!-- Display Resources -->
    <ul>
        <% resources.forEach(resource => { %>
            <li class="p-4 border mb-2 rounded bg-gray-200">
                <strong><%= resource.title %></strong> (Shared by <%= resource.mentor.name %>)
                <% if (resource.fileUrl) { %>
                    <a href="<%= resource.fileUrl %>" download class="text-blue-600">Download File</a>
                <% } %>
                <% if (resource.link) { %>
                    <a href="<%= resource.link %>" target="_blank" class="text-blue-600">View Link</a>
                <% } %>
            </li>
        <% }); %>
    </ul>
</div>

<%- include("layouts/footer") %>
